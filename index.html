
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyFXBook Wirtschaftskalender</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .event { border-bottom: 1px solid #ddd; padding: 10px 0; }
        .event strong { color: #0056b3; }
    </style>
</head>
<body>
    <h2>Forex Wirtschaftskalender (MyFXBook)</h2>
    <div id="calendar">Lade Daten...</div>

    <script>
        const API_USERNAME = "fabian97";  
        const API_PASSWORD = "444Gh$v67";  

        async function loginMyFXBook() {
            const loginUrl = `https://www.myfxbook.com/api/login.json?username=${API_USERNAME}&password=${API_PASSWORD}`;
            const response = await fetch(loginUrl);
            const data = await response.json();
            return data.session ? data.session : null;
        }

        async function loadEconomicCalendar(session) {
            const url = `https://www.myfxbook.com/api/get-economic-calendar.json?session=${session}`;
            const response = await fetch(url);
            const data = await response.json();

            if (!data.economicCalendar) {
                document.getElementById("calendar").innerHTML = "Keine Daten verfÃ¼gbar.";
                return;
            }

            let events = "";
            data.economicCalendar.forEach(event => {
                events += `<div class="event">
                                <strong>${event.date}</strong> - <span>${event.currency}</span> - ${event.title} <br>
                                <em>Impact: ${event.impact}, Vorherige: ${event.previous}, Prognose: ${event.forecast}</em>
                           </div>`;
            });

            document.getElementById("calendar").innerHTML = events;
        }

        async function fetchData() {
            const session = await loginMyFXBook();
            if (session) {
                loadEconomicCalendar(session);
            } else {
                document.getElementById("calendar").innerHTML = "Fehler bei der API-Anmeldung.";
            }
        }

        fetchData();
    </script>
</body>
</html>
